{"ast":null,"code":"import _objectSpread from\"/Users/mohaimenkhan/repos/research-comm/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// API Service for Community Hub\n// Connects to Azure Functions backend\nconst API_BASE_URL=process.env.REACT_APP_API_BASE_URL||'https://commhub-func-cnbkczf6a4ctdhcz.westus2-01.azurewebsites.net/api';class ApiService{constructor(){this.baseURL=API_BASE_URL;}async makeRequest(endpoint){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const url=\"\".concat(this.baseURL).concat(endpoint);const config=_objectSpread({headers:_objectSpread({'Content-Type':'application/json'},options.headers)},options);try{const response=await fetch(url,config);if(!response.ok){throw new Error(\"HTTP error! status: \".concat(response.status));}const data=await response.json();return data;}catch(error){console.error(\"API request failed for \".concat(endpoint,\":\"),error);throw error;}}// User Profile Management\nasync getUserProfile(userId){return this.makeRequest(\"/user_profile/\".concat(userId),{method:'GET'});}async createUserProfile(profile){return this.makeRequest('/user_profile',{method:'POST',body:JSON.stringify(profile)});}async updateUserProfile(userId,updates){return this.makeRequest(\"/user_profile/\".concat(userId),{method:'PUT',body:JSON.stringify(updates)});}// Content Discovery\nasync getPersonalizedContent(location){let preferences=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return this.makeRequest('/research_agent',{method:'POST',body:JSON.stringify({location,query:'community events and local news',preferences})});}async searchContent(query){let location=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let filters=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return this.makeRequest('/research_agent',{method:'POST',body:JSON.stringify({location:location||'general search',query,preferences:filters})});}async getCrawledContent(location){return this.makeRequest('/crawl_content',{method:'POST',body:JSON.stringify({location})});}// Content Interaction\nasync saveContent(userId,contentId){return this.makeRequest(\"/user_profile/\".concat(userId,\"/saved\"),{method:'POST',body:JSON.stringify({contentId})});}async removeSavedContent(userId,contentId){return this.makeRequest(\"/user_profile/\".concat(userId,\"/saved/\").concat(contentId),{method:'DELETE'});}async getSavedContent(userId){return this.makeRequest(\"/user_profile/\".concat(userId,\"/saved\"),{method:'GET'});}// News Tip Submission\nasync submitNewsTip(tip){return this.makeRequest('/editorial_queue',{method:'POST',body:JSON.stringify(_objectSpread(_objectSpread({},tip),{},{type:'user_submission',status:'pending',submittedAt:new Date().toISOString()}))});}// Content Feedback\nasync submitFeedback(contentId,feedback){return this.makeRequest('/content_distribution',{method:'POST',body:JSON.stringify({contentId,action:'feedback',feedback})});}// Analytics and Engagement\nasync trackContentView(contentId,userId,location){return this.makeRequest('/content_distribution',{method:'POST',body:JSON.stringify({contentId,userId,location,action:'view',timestamp:new Date().toISOString()})});}async trackContentEngagement(contentId,userId,action,location){return this.makeRequest('/content_distribution',{method:'POST',body:JSON.stringify({contentId,userId,location,action,// 'save', 'share', 'like', etc.\ntimestamp:new Date().toISOString()})});}// Location Services\nasync getLocationSuggestions(query){// In production, this would integrate with Azure Maps\nreturn this.makeRequest('/research_agent',{method:'POST',body:JSON.stringify({location:query,query:'location validation',preferences:{type:'location_lookup'}})});}// System Health\nasync checkSystemHealth(){return this.makeRequest('/test_simple',{method:'GET'});}// Editorial Queue (for editors)\nasync getEditorialQueue(location){let status=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'pending';return this.makeRequest(\"/editorial_queue/\".concat(location,\"?status=\").concat(status),{method:'GET'});}async updateEditorialItem(itemId,updates){return this.makeRequest(\"/editorial_queue/\".concat(itemId),{method:'PUT',body:JSON.stringify(updates)});}// Real-time Features (future)\nasync getNotifications(userId){return this.makeRequest(\"/user_profile/\".concat(userId,\"/notifications\"),{method:'GET'});}async markNotificationRead(userId,notificationId){return this.makeRequest(\"/user_profile/\".concat(userId,\"/notifications/\").concat(notificationId),{method:'PUT',body:JSON.stringify({read:true})});}}export const apiService=new ApiService();","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_BASE_URL","ApiService","constructor","baseURL","makeRequest","endpoint","options","arguments","length","undefined","url","concat","config","_objectSpread","headers","response","fetch","ok","Error","status","data","json","error","console","getUserProfile","userId","method","createUserProfile","profile","body","JSON","stringify","updateUserProfile","updates","getPersonalizedContent","location","preferences","query","searchContent","filters","getCrawledContent","saveContent","contentId","removeSavedContent","getSavedContent","submitNewsTip","tip","type","submittedAt","Date","toISOString","submitFeedback","feedback","action","trackContentView","timestamp","trackContentEngagement","getLocationSuggestions","checkSystemHealth","getEditorialQueue","updateEditorialItem","itemId","getNotifications","markNotificationRead","notificationId","read","apiService"],"sources":["/Users/mohaimenkhan/repos/research-comm/ui/src/services/apiService.js"],"sourcesContent":["// API Service for Community Hub\n// Connects to Azure Functions backend\n\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'https://commhub-func-cnbkczf6a4ctdhcz.westus2-01.azurewebsites.net/api';\n\nclass ApiService {\n  constructor() {\n    this.baseURL = API_BASE_URL;\n  }\n\n  async makeRequest(endpoint, options = {}) {\n    const url = `${this.baseURL}${endpoint}`;\n\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        ...options.headers\n      },\n      ...options\n    };\n\n    try {\n      const response = await fetch(url, config);\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error(`API request failed for ${endpoint}:`, error);\n      throw error;\n    }\n  }\n\n  // User Profile Management\n  async getUserProfile(userId) {\n    return this.makeRequest(`/user_profile/${userId}`, {\n      method: 'GET'\n    });\n  }\n\n  async createUserProfile(profile) {\n    return this.makeRequest('/user_profile', {\n      method: 'POST',\n      body: JSON.stringify(profile)\n    });\n  }\n\n  async updateUserProfile(userId, updates) {\n    return this.makeRequest(`/user_profile/${userId}`, {\n      method: 'PUT',\n      body: JSON.stringify(updates)\n    });\n  }\n\n  // Content Discovery\n  async getPersonalizedContent(location, preferences = {}) {\n    return this.makeRequest('/research_agent', {\n      method: 'POST',\n      body: JSON.stringify({\n        location,\n        query: 'community events and local news',\n        preferences\n      })\n    });\n  }\n\n  async searchContent(query, location = null, filters = {}) {\n    return this.makeRequest('/research_agent', {\n      method: 'POST',\n      body: JSON.stringify({\n        location: location || 'general search',\n        query,\n        preferences: filters\n      })\n    });\n  }\n\n  async getCrawledContent(location) {\n    return this.makeRequest('/crawl_content', {\n      method: 'POST',\n      body: JSON.stringify({ location })\n    });\n  }\n\n  // Content Interaction\n  async saveContent(userId, contentId) {\n    return this.makeRequest(`/user_profile/${userId}/saved`, {\n      method: 'POST',\n      body: JSON.stringify({ contentId })\n    });\n  }\n\n  async removeSavedContent(userId, contentId) {\n    return this.makeRequest(`/user_profile/${userId}/saved/${contentId}`, {\n      method: 'DELETE'\n    });\n  }\n\n  async getSavedContent(userId) {\n    return this.makeRequest(`/user_profile/${userId}/saved`, {\n      method: 'GET'\n    });\n  }\n\n  // News Tip Submission\n  async submitNewsTip(tip) {\n    return this.makeRequest('/editorial_queue', {\n      method: 'POST',\n      body: JSON.stringify({\n        ...tip,\n        type: 'user_submission',\n        status: 'pending',\n        submittedAt: new Date().toISOString()\n      })\n    });\n  }\n\n  // Content Feedback\n  async submitFeedback(contentId, feedback) {\n    return this.makeRequest('/content_distribution', {\n      method: 'POST',\n      body: JSON.stringify({\n        contentId,\n        action: 'feedback',\n        feedback\n      })\n    });\n  }\n\n  // Analytics and Engagement\n  async trackContentView(contentId, userId, location) {\n    return this.makeRequest('/content_distribution', {\n      method: 'POST',\n      body: JSON.stringify({\n        contentId,\n        userId,\n        location,\n        action: 'view',\n        timestamp: new Date().toISOString()\n      })\n    });\n  }\n\n  async trackContentEngagement(contentId, userId, action, location) {\n    return this.makeRequest('/content_distribution', {\n      method: 'POST',\n      body: JSON.stringify({\n        contentId,\n        userId,\n        location,\n        action, // 'save', 'share', 'like', etc.\n        timestamp: new Date().toISOString()\n      })\n    });\n  }\n\n  // Location Services\n  async getLocationSuggestions(query) {\n    // In production, this would integrate with Azure Maps\n    return this.makeRequest('/research_agent', {\n      method: 'POST',\n      body: JSON.stringify({\n        location: query,\n        query: 'location validation',\n        preferences: { type: 'location_lookup' }\n      })\n    });\n  }\n\n  // System Health\n  async checkSystemHealth() {\n    return this.makeRequest('/test_simple', {\n      method: 'GET'\n    });\n  }\n\n  // Editorial Queue (for editors)\n  async getEditorialQueue(location, status = 'pending') {\n    return this.makeRequest(`/editorial_queue/${location}?status=${status}`, {\n      method: 'GET'\n    });\n  }\n\n  async updateEditorialItem(itemId, updates) {\n    return this.makeRequest(`/editorial_queue/${itemId}`, {\n      method: 'PUT',\n      body: JSON.stringify(updates)\n    });\n  }\n\n  // Real-time Features (future)\n  async getNotifications(userId) {\n    return this.makeRequest(`/user_profile/${userId}/notifications`, {\n      method: 'GET'\n    });\n  }\n\n  async markNotificationRead(userId, notificationId) {\n    return this.makeRequest(`/user_profile/${userId}/notifications/${notificationId}`, {\n      method: 'PUT',\n      body: JSON.stringify({ read: true })\n    });\n  }\n}\n\nexport const apiService = new ApiService();"],"mappings":"+HAAA;AACA;AAEA,KAAM,CAAAA,YAAY,CAAGC,OAAO,CAACC,GAAG,CAACC,sBAAsB,EAAI,wEAAwE,CAEnI,KAAM,CAAAC,UAAW,CACfC,WAAWA,CAAA,CAAG,CACZ,IAAI,CAACC,OAAO,CAAGN,YAAY,CAC7B,CAEA,KAAM,CAAAO,WAAWA,CAACC,QAAQ,CAAgB,IAAd,CAAAC,OAAO,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,CACtC,KAAM,CAAAG,GAAG,IAAAC,MAAA,CAAM,IAAI,CAACR,OAAO,EAAAQ,MAAA,CAAGN,QAAQ,CAAE,CAExC,KAAM,CAAAO,MAAM,CAAAC,aAAA,EACVC,OAAO,CAAAD,aAAA,EACL,cAAc,CAAE,kBAAkB,EAC/BP,OAAO,CAACQ,OAAO,CACnB,EACER,OAAO,CACX,CAED,GAAI,CACF,KAAM,CAAAS,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACN,GAAG,CAAEE,MAAM,CAAC,CAEzC,GAAI,CAACG,QAAQ,CAACE,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,wBAAAP,MAAA,CAAwBI,QAAQ,CAACI,MAAM,CAAE,CAAC,CAC3D,CAEA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAL,QAAQ,CAACM,IAAI,CAAC,CAAC,CAClC,MAAO,CAAAD,IAAI,CACb,CAAE,MAAOE,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,2BAAAX,MAAA,CAA2BN,QAAQ,MAAKiB,KAAK,CAAC,CAC3D,KAAM,CAAAA,KAAK,CACb,CACF,CAEA;AACA,KAAM,CAAAE,cAAcA,CAACC,MAAM,CAAE,CAC3B,MAAO,KAAI,CAACrB,WAAW,kBAAAO,MAAA,CAAkBc,MAAM,EAAI,CACjDC,MAAM,CAAE,KACV,CAAC,CAAC,CACJ,CAEA,KAAM,CAAAC,iBAAiBA,CAACC,OAAO,CAAE,CAC/B,MAAO,KAAI,CAACxB,WAAW,CAAC,eAAe,CAAE,CACvCsB,MAAM,CAAE,MAAM,CACdG,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACH,OAAO,CAC9B,CAAC,CAAC,CACJ,CAEA,KAAM,CAAAI,iBAAiBA,CAACP,MAAM,CAAEQ,OAAO,CAAE,CACvC,MAAO,KAAI,CAAC7B,WAAW,kBAAAO,MAAA,CAAkBc,MAAM,EAAI,CACjDC,MAAM,CAAE,KAAK,CACbG,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACE,OAAO,CAC9B,CAAC,CAAC,CACJ,CAEA;AACA,KAAM,CAAAC,sBAAsBA,CAACC,QAAQ,CAAoB,IAAlB,CAAAC,WAAW,CAAA7B,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,CACrD,MAAO,KAAI,CAACH,WAAW,CAAC,iBAAiB,CAAE,CACzCsB,MAAM,CAAE,MAAM,CACdG,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBI,QAAQ,CACRE,KAAK,CAAE,iCAAiC,CACxCD,WACF,CAAC,CACH,CAAC,CAAC,CACJ,CAEA,KAAM,CAAAE,aAAaA,CAACD,KAAK,CAAiC,IAA/B,CAAAF,QAAQ,CAAA5B,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,IAAI,IAAE,CAAAgC,OAAO,CAAAhC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,CACtD,MAAO,KAAI,CAACH,WAAW,CAAC,iBAAiB,CAAE,CACzCsB,MAAM,CAAE,MAAM,CACdG,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBI,QAAQ,CAAEA,QAAQ,EAAI,gBAAgB,CACtCE,KAAK,CACLD,WAAW,CAAEG,OACf,CAAC,CACH,CAAC,CAAC,CACJ,CAEA,KAAM,CAAAC,iBAAiBA,CAACL,QAAQ,CAAE,CAChC,MAAO,KAAI,CAAC/B,WAAW,CAAC,gBAAgB,CAAE,CACxCsB,MAAM,CAAE,MAAM,CACdG,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEI,QAAS,CAAC,CACnC,CAAC,CAAC,CACJ,CAEA;AACA,KAAM,CAAAM,WAAWA,CAAChB,MAAM,CAAEiB,SAAS,CAAE,CACnC,MAAO,KAAI,CAACtC,WAAW,kBAAAO,MAAA,CAAkBc,MAAM,WAAU,CACvDC,MAAM,CAAE,MAAM,CACdG,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEW,SAAU,CAAC,CACpC,CAAC,CAAC,CACJ,CAEA,KAAM,CAAAC,kBAAkBA,CAAClB,MAAM,CAAEiB,SAAS,CAAE,CAC1C,MAAO,KAAI,CAACtC,WAAW,kBAAAO,MAAA,CAAkBc,MAAM,YAAAd,MAAA,CAAU+B,SAAS,EAAI,CACpEhB,MAAM,CAAE,QACV,CAAC,CAAC,CACJ,CAEA,KAAM,CAAAkB,eAAeA,CAACnB,MAAM,CAAE,CAC5B,MAAO,KAAI,CAACrB,WAAW,kBAAAO,MAAA,CAAkBc,MAAM,WAAU,CACvDC,MAAM,CAAE,KACV,CAAC,CAAC,CACJ,CAEA;AACA,KAAM,CAAAmB,aAAaA,CAACC,GAAG,CAAE,CACvB,MAAO,KAAI,CAAC1C,WAAW,CAAC,kBAAkB,CAAE,CAC1CsB,MAAM,CAAE,MAAM,CACdG,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAAlB,aAAA,CAAAA,aAAA,IACfiC,GAAG,MACNC,IAAI,CAAE,iBAAiB,CACvB5B,MAAM,CAAE,SAAS,CACjB6B,WAAW,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,EACtC,CACH,CAAC,CAAC,CACJ,CAEA;AACA,KAAM,CAAAC,cAAcA,CAACT,SAAS,CAAEU,QAAQ,CAAE,CACxC,MAAO,KAAI,CAAChD,WAAW,CAAC,uBAAuB,CAAE,CAC/CsB,MAAM,CAAE,MAAM,CACdG,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBW,SAAS,CACTW,MAAM,CAAE,UAAU,CAClBD,QACF,CAAC,CACH,CAAC,CAAC,CACJ,CAEA;AACA,KAAM,CAAAE,gBAAgBA,CAACZ,SAAS,CAAEjB,MAAM,CAAEU,QAAQ,CAAE,CAClD,MAAO,KAAI,CAAC/B,WAAW,CAAC,uBAAuB,CAAE,CAC/CsB,MAAM,CAAE,MAAM,CACdG,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBW,SAAS,CACTjB,MAAM,CACNU,QAAQ,CACRkB,MAAM,CAAE,MAAM,CACdE,SAAS,CAAE,GAAI,CAAAN,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CACpC,CAAC,CACH,CAAC,CAAC,CACJ,CAEA,KAAM,CAAAM,sBAAsBA,CAACd,SAAS,CAAEjB,MAAM,CAAE4B,MAAM,CAAElB,QAAQ,CAAE,CAChE,MAAO,KAAI,CAAC/B,WAAW,CAAC,uBAAuB,CAAE,CAC/CsB,MAAM,CAAE,MAAM,CACdG,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBW,SAAS,CACTjB,MAAM,CACNU,QAAQ,CACRkB,MAAM,CAAE;AACRE,SAAS,CAAE,GAAI,CAAAN,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CACpC,CAAC,CACH,CAAC,CAAC,CACJ,CAEA;AACA,KAAM,CAAAO,sBAAsBA,CAACpB,KAAK,CAAE,CAClC;AACA,MAAO,KAAI,CAACjC,WAAW,CAAC,iBAAiB,CAAE,CACzCsB,MAAM,CAAE,MAAM,CACdG,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBI,QAAQ,CAAEE,KAAK,CACfA,KAAK,CAAE,qBAAqB,CAC5BD,WAAW,CAAE,CAAEW,IAAI,CAAE,iBAAkB,CACzC,CAAC,CACH,CAAC,CAAC,CACJ,CAEA;AACA,KAAM,CAAAW,iBAAiBA,CAAA,CAAG,CACxB,MAAO,KAAI,CAACtD,WAAW,CAAC,cAAc,CAAE,CACtCsB,MAAM,CAAE,KACV,CAAC,CAAC,CACJ,CAEA;AACA,KAAM,CAAAiC,iBAAiBA,CAACxB,QAAQ,CAAsB,IAApB,CAAAhB,MAAM,CAAAZ,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,SAAS,CAClD,MAAO,KAAI,CAACH,WAAW,qBAAAO,MAAA,CAAqBwB,QAAQ,aAAAxB,MAAA,CAAWQ,MAAM,EAAI,CACvEO,MAAM,CAAE,KACV,CAAC,CAAC,CACJ,CAEA,KAAM,CAAAkC,mBAAmBA,CAACC,MAAM,CAAE5B,OAAO,CAAE,CACzC,MAAO,KAAI,CAAC7B,WAAW,qBAAAO,MAAA,CAAqBkD,MAAM,EAAI,CACpDnC,MAAM,CAAE,KAAK,CACbG,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACE,OAAO,CAC9B,CAAC,CAAC,CACJ,CAEA;AACA,KAAM,CAAA6B,gBAAgBA,CAACrC,MAAM,CAAE,CAC7B,MAAO,KAAI,CAACrB,WAAW,kBAAAO,MAAA,CAAkBc,MAAM,mBAAkB,CAC/DC,MAAM,CAAE,KACV,CAAC,CAAC,CACJ,CAEA,KAAM,CAAAqC,oBAAoBA,CAACtC,MAAM,CAAEuC,cAAc,CAAE,CACjD,MAAO,KAAI,CAAC5D,WAAW,kBAAAO,MAAA,CAAkBc,MAAM,oBAAAd,MAAA,CAAkBqD,cAAc,EAAI,CACjFtC,MAAM,CAAE,KAAK,CACbG,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEkC,IAAI,CAAE,IAAK,CAAC,CACrC,CAAC,CAAC,CACJ,CACF,CAEA,MAAO,MAAM,CAAAC,UAAU,CAAG,GAAI,CAAAjE,UAAU,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}